@{
    Layout = "~/Views/Shared/_TeacherLayout.cshtml";
}
<section class="CreateTest__BigContainer">
    <div class="Test__EditSection">
        <div id="Test_Contain" class="Test">
            <div id="myTest" class="quesDirection">
                <h3 id="Choose__Ques" class="invi__test__title">
                    Choose Ques:
                </h3>

            </div>
            <div class="Test__title__div invi__test__title">
                <input id="Test__title__input" class="effect_2_create" placeholder="Please inpu your test title" />
                <span class="focus-border"></span>
            </div>
            <h1 class="Please__insert__ques">Please insert the question to your test</h1>
            <div class="upload__test__imageSection">
                <div class="TestImage__preview">
                    <img id="Test__image" />
                    @*<img src="~/Content/Images/avatar.jpg" />*@
                </div>
                <input id="Test__image__upload" type="file" value="Upload" />
            </div>
            <div class="Post__createTest__section invi__test__title">
                <button id="Create__myTest" class="test__button__create__Test btnPush edit__test">
                    Create Test
                </button>
            </div>
        </div>
        <div id="QuizType__Create__contain" class="QuizType__Create__contain">

        </div>
    </div>
    <div class="line__between">

    </div>
    <div class="Ques__choose__seciton">
        <div id="PuzzleQues__create" class="Ques__chose__item Puzzle__Type">
            <img src="~/Content/Images/puzzle-svgrepo-com.svg" />
            <p>Puzzle Type</p>
        </div>
        <div id="QuizQues__create" class="Ques__chose__item Quiz__Type">
            <img src="~/Content/Images/QuizIcon.svg" />
            <p>Quiz Type</p>
        </div>
        <div id="AnotherGame" class="Ques__chose__item anothergame__create">
            <img src="~/Content/Images/gamePlaystationIcon.svg" />
            <p>Game Incoming</p>
        </div>
        <div>
            <button class="test__button__create btnPush edit__test" id="imTest">I'm testing</button>
        </div>
    </div>
</section>
<script>
    $(function () {
        $("#QuizQues__create").click(function () {
            $.ajax({
                url: "@Url.Action("SendFormQuizQues","Teacher")",
                data: "",
                type: "POST",
                cache: false,
                success: function (response) {
                    $("#QuizType__Create__contain").css("display", "flex");
                    $("#QuizType__Create__contain").append(response);
                    $("#QuizType__Create__contain").animate({
                        left: '0',
                        opacity: '1'
                    });
                    setTimeout(function () {
                        $(".Please__insert__ques").remove();
                    }, 500);
                    setTimeout(function () {
                        $(".Test__title__div").removeClass("invi__test__title");
                    }, 500);
                    setTimeout(function () {
                        $("#Choose__Ques").removeClass("invi__test__title");
                    }, 500);
                    setTimeout(function () {
                        $(".Post__createTest__section").removeClass("invi__test__title");
                    }, 500);
                    $("#Test_Contain").animate({
                        left: '-13%',
                        opacity: '0'
                    });
                    setTimeout(function () {
                        $("#Test_Contain").css("display", "none");
                    }, 500);
                },
                error: function () {
                    alert("ajax fucking failed");
                }
            })
        })
    })
</script>

@*bên cái QuizType.cshtml có 1 cái Ajaxform đây là cái function được triggered sau khi Ajaxform đó submit thành công*@
<script>
    var i = 1;
    var displayi = 1;
    function AddToTest() {
        var myQuesID = $("#myfuckingID").text();
        $.ajax({
            type: "GET",
            url: "@Url.Action("RedirectQues", "Teacher")",
            cache: false,
            data: { QuesId: myQuesID },
            success: function (res) {
                $("#myTest").after(res);
                $("#Test_Contain").css("display", "flex");
                $("#Test_Contain").animate({
                    left: '0',
                    opacity: '1'
                });
                $("#QuizType__Create__contain").animate({
                    left: '-13%',
                    opacity: '0'
                });
                setTimeout(function () {
                    $("#QuizType__Create__contain").empty();
                    $("#QuizType__Create__contain").css("display", "none");
                }, 500);
                //setid to navigate the question
                var navId = $("#getAllQuesId").parent().attr("id") + i;
                var newQues = `<a id="${navId}" class="ques__created__item">${displayi}</a>`;
                $("#myTest").append(newQues);
                displayi = displayi + 1;
                //setid to navigate the question

            },
            error: function () {
                alert("Ajax failed");
            }
        })
    }
</script>
@*bên cái QuizType.cshtml có 1 cái Ajaxform đây là cái function được trigger sau khi Ajaxform đó submit thành công*@

@*đây là function khi click vào số câu hỏi để hiển thị câu tương ứng*@
<script>
    $(function () {
        $("#myTest").on("click", function () {
            let myDiv = event.target.closest(".ques__created__item");
            $(".ques__created__item").removeClass("Ques__active");
            $(myDiv).addClass("Ques__active");
            var myQuesId = $(myDiv).attr("id").slice(0, -1);
            $(".data__Content__MultiChoice_create").addClass("invi__data__Content__MultiChoice_create");
            $(`#${myQuesId}`).removeClass("invi__data__Content__MultiChoice_create");
        })
    })
</script>

@*đây là function khi click vào số câu hỏi để hiển thị câu tương ứng*@

@*Loop through all question element testing*@
<script>
    $(function () {
        $("#imTest").click(function () {
            $(".data__Content__MultiChoice_create").each(function (i, obj) {
                alert($(this).attr("id"));
            })
        })
    })
</script>
@*Loop through all question element testing*@

@*Ajax call with token*@
<script type="text/javascript">
                $("#testingisreal").click(function () {
                    var token = $('input[name="__RequestVerificationToken"]').val();
                    $.ajax({
                        url: "@Url.Action("Testing","Teacher")",
                        data: {
                            __RequestVerificationToken: token,
                            someValue: "abc",
                        },
                        type: "POST",
                        success: function (data) {
                            alert(data);
                        },
                        error: function () {
                            alert("ajax failed")
                        }
                    })

                })
</script>
@*<button id="testingisreal" style="font-size:15px">
        @Html.AntiForgeryToken()
        click me to test
    </button>*@

@*Ajax call with token*@

@*Preview Test Image*@
<script>
    $(function () {
        function readURL(input) {
            if (input.files && input.files[0]) {
                var reader = new FileReader();
                reader.onload = function (e) {
                    $('#Test__image').attr('src', e.target.result);
                }
                reader.readAsDataURL(input.files[0]);
            }
        }
        $("#Test__image__upload").change(function () {
            readURL(this);
        });
    })
</script>
@*Preview Test Image*@